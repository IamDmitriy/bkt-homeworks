# Домашнее задание к лекции "API AUTH"

Для каждой задачи создайте решение на базе Gradle и залейте его в GitHub.

Для этого ДЗ вы можете сдавать всё в виде одного проекта*, где финальный проект содержит решение всех трёх задач.

Все проекты должны быть созданы с использованием Gradle (без него не принимаются).

Важно: решение должно быть выложено на Heroku, в README.md должен быть прописан URL вашего приложения.

Не забудьте про [.gitignore](../.gitignore)

## Задача №1 - Миграция функциональности

Очень часто встречается следующая постановка задачи: "давай сделаем как у них".

Соответственно, вам нужно "мигрировать" функциональность приложения с лекции, а именно части, связанные с аутентификацией, авторизацией и загрузкой файлов-изображений.

По примеру приложения с лекции реализуйте авторизацию, закрыв следующую функциональность для неаутентифицированных пользователей (тех, что не прошли процедуру аутентификации - т.е. не получили валидный токен в обмен на связку логин + пароль):

1. Просмотр постов
1. Создание постов
1. Редактирование постов (обновление)
1. Удаление постов
1. Лайки/Дизлайки
1. Другая функциональность (если она у вас есть) 
1. Загрузка изображений

Кроме того, нужно реализовать проверку авторства:
1. Редактировать посты может только автор поста
1. Удалять посты может только автор поста

При попытке выполнить эти операции другим пользователем должен выкидывать `Exception`, приводящий к отдаче кода 403 (Forbidden).

## Задача №2 - Регистрация

Реализуйте регистрацию в вашем приложении ("/api/v1/registration"). Это достаточно простая процедура, в целом, аналогичная аутентификации:

1. Пользователь делает POST-запрос, передавая JSON с полями `username` и `password`
1. Если такого `username` в нашем списке не существует, то добавляем пользователя, шифруем пароль и сразу выдаём токен доступа (чтобы ему не приходилось повторно вводить логин и пароль)
1. Если такой пользователь существует - выдавайте ошибку 400 с телом в виде JSON: `{"error": "Пользователь с таким логином уже зарегистрирован"}`. Подумайте над тем, что возможно, и для других ошибок стоит не просто возвращать код ответа, а передавать JSON с расшифровкой ошибки.

## Задача № 3 (необязательная) - Защита от накруток

Реализуйте защиту от накруток: один пользователь может залайкать пост только один раз. И убрать лайк, только если он выставил лайк до этого.

<details>
    <summary>Подсказка</summary>

    Для этого вам нужно будет либо в конкретном посте хранить информацию о том, кто залайкал этот пост, либо хранить связки пост-залайкавшие его люди отдельно.

    Соответственно, лайк - добавление в этот список, дизлайк - удаление при наличие.
</details>
